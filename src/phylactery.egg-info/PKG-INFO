Metadata-Version: 2.4
Name: phylactery
Version: 0.1.0
Summary: Phylactery - GitOps Multi-Agent API
Requires-Python: >=3.13
Description-Content-Type: text/markdown
Requires-Dist: fastapi>=0.128.0
Requires-Dist: httpx>=0.28.1
Requires-Dist: langchain-core>=1.2.7
Requires-Dist: langchain-google-genai>=4.2.0
Requires-Dist: langchain-ollama>=1.0.1
Requires-Dist: langchain-openai>=1.1.7
Requires-Dist: langgraph>=1.0.7
Requires-Dist: pydantic-settings>=2.12.0
Requires-Dist: python-frontmatter>=1.1.0
Requires-Dist: rich>=14.3.1
Requires-Dist: typer>=0.21.1
Requires-Dist: uvicorn>=0.40.0

# ğŸ’€ Phylactery

> **"Infraestructura como CÃ³digo para la Inteligencia."**
> La placa base donde conectas tus agentes para hacerlos productivos.

Phylactery es una API agnÃ³stica de agentes diseÃ±ada bajo la filosofÃ­a **"Bones + Brain"**. Permite definir, desplegar y consumir agentes de IA utilizando un flujo de trabajo **GitOps** puro: solo editas archivos Markdown, y la API se encarga del resto.

---

## âš¡ Features

*   **GitOps Native**: Define tus agentes en `.agent/agents/*.md`. Cargas automÃ¡ticas al iniciar.
*   **Multi-Provider Brain**: Elige el cerebro adecuado para cada tarea:
    *   ğŸŸ¢ **Ollama** (Local/Gratis) - Para desarrollo y privacidad.
    *   ğŸ”µ **OpenAI** (GPT-4) - Para razonamiento complejo.
    *   ğŸŸ  **Gemini** (Google) - Para ventanas de contexto masivas.
*   **Provider Override**: Define un proveedor global en `.env` o especÃ­fico para cada agente en su frontmatter.
*   **Docker Ready**: Despliegue en un comando con `docker-compose`.
*   **Type-Safe**: Escrito en Python 3.13 con FastAPI, validado con `mypy --strict` y `ruff`.

---

## ğŸš€ Quick Start

### 1. Requisitos
*   Docker & Docker Compose
*   (Opcional) Python 3.13+ y `uv` para desarrollo local.

### 2. Ejecutar con Docker (Recomendado)

```bash
# 1. Clona el repo
git clone https://github.com/crozzbite/phylactery.git
cd phylactery

# 2. Configura tus llaves (Ollama funciona sin keys)
cp .env.example .env
# Edita .env si vas a usar OpenAI/Gemini

# 3. Levanta la magia
docker-compose up --build
```

La API estarÃ¡ disponible en `http://localhost:8000`.

### 3. Crear tu Primer Agente

Crea un archivo en `.agent/agents/asistente.md`:

```markdown
---
role: Asistente Personal
ai_provider: ollama  # Opcional: openai, gemini
---

Eres un asistente sarcÃ¡stico que responde todo con metÃ¡foras de calaveras.
```

Â¡Listo! Tu agente ya estÃ¡ vivo.

### 4. Hablar con el Agente

```bash
curl -X POST "http://localhost:8000/chat/asistente" \
     -H "Content-Type: application/json" \
     -d '{"message": "Hola, Â¿quiÃ©n eres?"}'
```

---

## ğŸ§  Arquitectura

### Estructura del Proyecto

```text
phylactery/
â”œâ”€â”€ .agent/              # TU CONOCIMIENTO (The Brain)
â”‚   â”œâ”€â”€ agents/          # Definiciones de Agentes (.md)
â”‚   â””â”€â”€ skills/          # Habilidades Reutilizables (.md)
â”œâ”€â”€ src/                 # EL CÃ“DIGO (The Bones)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ core/        # LÃ³gica del Engine (LangGraph)
â”‚   â”‚   â”œâ”€â”€ main.py      # FastAPI Entrypoint
â”‚   â”‚   â””â”€â”€ models.py    # Pydantic Models
â”œâ”€â”€ Dockerfile           # Receta de construcciÃ³n
â””â”€â”€ docker-compose.yml   # OrquestaciÃ³n (API + Ollama)
```

### FilosofÃ­a de DiseÃ±o

1.  **Tangibilidad**: Los agentes son archivos. Si borras el archivo, muere el agente.
2.  **Transparencia**: Todo el prompt y la configuraciÃ³n estÃ¡n a la vista.
3.  **Independencia**: No te casamos con un proveedor. Cambia de OpenAI a Ollama en una lÃ­nea.

---

## ğŸ› ï¸ Desarrollo Local

Si prefieres correrlo sin Docker:

```bash
# Instalar uv (si no lo tienes)
pip install uv

# Instalar dependencias
uv sync

# Correr servidor
uv run uvicorn src.app.main:app --reload
```

---

**SkullRender Labs** - *Bones are solid. Brain is sharp.* ğŸ’€

---

## ğŸ’» CLI (Herramienta de InfecciÃ³n)

Phylactery incluye una herramienta de lÃ­nea de comandos para interactuar con tus agentes sin salir de la terminal.

### InstalaciÃ³n
Si estÃ¡s en el entorno de desarrollo:
```bash
uv run phylactery --help
```

### Comandos
1.  **Listar Agentes**:
    ```bash
    uv run phylactery list
    ```
2.  **Chatear con un Agente**:
    ```bash
    uv run phylactery chat python_architect
    ```
    *(Abre una sesiÃ³n interactiva con el agente)*

